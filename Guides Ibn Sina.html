<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guides d'Utilisation - Plateforme Ibn Sina</title>
    <style>
        :root {
            --color-primary: #208090;
            --color-delegate: #27ae60;
            --color-admin: #f5a623;
            --color-bg: #f8f9fa;
            --color-surface: #ffffff;
            --color-text: #2c3e50;
            --color-border: #ddd;
            --color-error: #e74c3c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            font-family: 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: var(--color-text);
            background-color: var(--color-bg);
        }

        body {
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--color-primary) 0%, #1a6b78 100%);
            color: white;
            padding: 40px 20px;
            border-radius: 12px;
            margin-bottom: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* Role Selector */
        .role-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .role-card {
            background: var(--color-surface);
            border: 3px solid var(--color-border);
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .role-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .role-card.active {
            border-color: currentColor;
            box-shadow: 0 0 0 4px rgba(32, 128, 144, 0.1);
        }

        .role-card.student {
            --card-color: var(--color-primary);
            color: var(--color-primary);
        }

        .role-card.delegate {
            --card-color: var(--color-delegate);
            color: var(--color-delegate);
        }

        .role-card.admin {
            --card-color: var(--color-admin);
            color: var(--color-admin);
        }

        .role-card.active {
            background: var(--card-color);
            color: white;
            border-color: var(--card-color);
        }

        .role-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .role-card h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .role-card p {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        /* Guide Content */
        .guide-content {
            background: var(--color-surface);
            border-radius: 10px;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }

        .guide-section {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }

        .guide-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .guide-section h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-intro {
            background: rgba(32, 128, 144, 0.05);
            padding: 20px;
            border-left: 4px solid var(--color-primary);
            border-radius: 6px;
            margin-bottom: 30px;
            font-size: 1.05rem;
        }

        .steps {
            margin: 30px 0;
        }

        .step {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
            border-left: 4px solid var(--color-primary);
        }

        .step-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: var(--color-primary);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            flex-shrink: 0;
        }

        .step-content h4 {
            margin-bottom: 10px;
            color: var(--color-primary);
        }

        .step-content p {
            margin: 8px 0;
            color: #555;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: #f9f9f9;
            border: 2px solid var(--color-border);
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s;
        }

        .feature-card:hover {
            border-color: var(--color-primary);
            box-shadow: 0 4px 12px rgba(32, 128, 144, 0.15);
        }

        .feature-card h4 {
            color: var(--color-primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feature-icon {
            font-size: 1.5rem;
        }

        .security-box {
            background: linear-gradient(135deg, rgba(231, 76, 60, 0.05) 0%, rgba(231, 76, 60, 0.02) 100%);
            border-left: 4px solid var(--color-error);
            padding: 20px;
            border-radius: 6px;
            margin: 30px 0;
        }

        .security-box h4 {
            color: var(--color-error);
            margin-bottom: 10px;
        }

        .security-box ul {
            list-style: none;
            padding-left: 0;
        }

        .security-box li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }

        .security-box li:before {
            content: "üîí";
            position: absolute;
            left: 0;
        }

        .faq-item {
            background: #f9f9f9;
            border-radius: 8px;
            margin-bottom: 15px;
            overflow: hidden;
            border: 1px solid var(--color-border);
        }

        .faq-question {
            padding: 20px;
            cursor: pointer;
            background: #f9f9f9;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s;
        }

        .faq-question:hover {
            background: #f0f0f0;
        }

        .faq-question.active {
            background: var(--color-primary);
            color: white;
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s;
        }

        .faq-answer.active {
            max-height: 500px;
            padding: 20px;
            border-top: 1px solid var(--color-border);
        }

        .highlight {
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: 600;
        }

        /* Responsive */
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8rem;
            }

            .role-card {
                padding: 20px;
            }

            .guide-content {
                padding: 20px;
            }

            .step {
                flex-direction: column;
            }

            .role-selector {
                grid-template-columns: 1fr;
            }
        }

        .tooltip {
            position: relative;
            display: inline-block;
            border-bottom: 1px dotted var(--color-primary);
            cursor: help;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 250px;
            background-color: var(--color-primary);
            color: white;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -125px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.85rem;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>üìö Guides d'Utilisation</h1>
            <p>Plateforme Ibn Sina - Choisissez votre r√¥le pour acc√©der au guide personnalis√©</p>
        </header>

        <!-- Role Selector -->
        <div class="role-selector">
            <div class="role-card student active" onclick="switchGuide('student')">
                <div class="role-icon">üéì</div>
                <h3>Guide √âtudiant</h3>
                <p>Acc√®s aux groupes WhatsApp</p>
            </div>
            <div class="role-card delegate" onclick="switchGuide('delegate')">
                <div class="role-icon">üõ°Ô∏è</div>
                <h3>Guide D√©l√©gu√©</h3>
                <p>Gestion de votre fili√®re</p>
            </div>
            <div class="role-card admin" onclick="switchGuide('admin')">
                <div class="role-icon">‚öôÔ∏è</div>
                <h3>Guide Administrateur</h3>
                <p>Contr√¥le total de la plateforme</p>
            </div>
        </div>

        <!-- Guide Content -->
        <div class="guide-content">
            <!-- GUIDE √âTUDIANT -->
            <div id="student" class="guide-section active">
                <h2><span class="role-icon">üéì</span>Guide d'Utilisation - √âtudiant</h2>
                
                <div class="section-intro">
                    <strong>Bienvenue sur la plateforme Ibn Sina!</strong> Ce guide vous aidera √† naviguer et √† acc√©der aux groupes WhatsApp de votre fili√®re en quelques √©tapes simples.
                </div>

                <h3>üìù √âtape 1: Cr√©ation de Compte</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Cliquez sur "Inscription"</h4>
                            <p>Sur la page de connexion, s√©lectionnez l'onglet <span class="highlight">Inscription</span>.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Remplissez vos informations</h4>
                            <p>‚Ä¢ <strong>Nom Complet:</strong> Votre pr√©nom et nom<br>
                            ‚Ä¢ <strong>Email:</strong> Votre adresse email (importante pour la v√©rification)<br>
                            ‚Ä¢ <strong>Mot de passe:</strong> Cr√©ez un mot de passe fort (minimum 6 caract√®res)<br>
                            ‚Ä¢ <strong>Fili√®re:</strong> S√©lectionnez votre fili√®re d'√©tudes<br>
                            ‚Ä¢ <strong>Niveau:</strong> Optionnel - Indiquez votre ann√©e d'√©tudes<br>
                            ‚Ä¢ <strong>WhatsApp:</strong> Optionnel - Votre num√©ro pour contact direct</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>V√©rifiez votre email</h4>
                            <p>Un email de confirmation sera envoy√© √† votre adresse. <span class="tooltip">Cliquez sur le lien de v√©rification pour activer votre compte.<span class="tooltiptext">Cette √©tape est obligatoire pour acc√©der √† tous les services</span></span></p>
                        </div>
                    </div>
                </div>

                <h3>üîê √âtape 2: Soumettre une Demande d'Adh√©sion</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Connectez-vous</h4>
                            <p>Utilisez votre email et mot de passe pour acc√©der √† votre tableau de bord.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Acc√©dez √† "Ma Demande"</h4>
                            <p>Sur le tableau de bord, cliquez sur l'onglet <span class="highlight">Ma Demande</span>.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Remplissez le formulaire</h4>
                            <p>‚Ä¢ Votre fili√®re s'affiche automatiquement<br>
                            ‚Ä¢ Votre niveau s'affiche automatiquement<br>
                            ‚Ä¢ <strong>Message (optionnel):</strong> Pr√©sentez-vous bri√®vement (pourquoi vous souhaitez rejoindre, vos int√©r√™ts, etc.)<br>
                            ‚Ä¢ Cliquez sur <span class="highlight">Envoyer la Demande</span></p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Attendez l'approbation</h4>
                            <p>Le d√©l√©gu√© de votre fili√®re examinera votre demande. Vous verrez le statut mis √† jour en temps r√©el.</p>
                        </div>
                    </div>
                </div>

                <h3>üîó √âtape 3: Recevoir le Lien WhatsApp</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Approuvation par le d√©l√©gu√©</h4>
                            <p>Quand votre demande est approuv√©e, le d√©l√©gu√© g√©n√®re un <span class="highlight">code PIN</span> s√©curis√©.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Recevez le code PIN</h4>
                            <p>Vous recevrez le code PIN par:<br>
                            ‚Ä¢ üìß Email √† votre adresse enregistr√©e<br>
                            ‚Ä¢ üí¨ SMS/WhatsApp (si num√©ro fourni)<br>
                            ‚Ä¢ üîî Notification sur la plateforme</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Validez le code PIN</h4>
                            <p>Allez √† la section "Validation PIN" et entrez le code re√ßu. <span class="tooltip">Le Bot IA Gemini v√©rifiera le code en arri√®re-plan.<span class="tooltiptext">Ce syst√®me garantit la s√©curit√© des groupes WhatsApp</span></span></p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Acc√©dez au groupe WhatsApp</h4>
                            <p>Une fois valid√©, le lien WhatsApp officiel s'affichera. Cliquez pour rejoindre le groupe de votre fili√®re!</p>
                        </div>
                    </div>
                </div>

                <h3>‚≠ê Caract√©ristiques Principales</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4><span class="feature-icon">üìã</span>Historique des Demandes</h4>
                        <p>Consultez l'historique complet de toutes vos demandes avec leurs statuts et d√©cisions.</p>
                    </div>
                    <div class="feature-card">
                        <h4><span class="feature-icon">üéì</span>Espace Laur√©at</h4>
                        <p>Si vous √™tes marqu√© comme "Laur√©at", acc√©dez √† des fonctions de mentorat et partage de ressources.</p>
                    </div>
                    <div class="feature-card">
                        <h4><span class="feature-icon">üë§</span>Profil Personnel</h4>
                        <p>Modifiez vos informations personnelles et votre num√©ro WhatsApp √† tout moment.</p>
                    </div>
                    <div class="feature-card">
                        <h4><span class="feature-icon">üîê</span>Confidentialit√©</h4>
                        <p>Vos donn√©es restent confidentielles. Seules les informations n√©cessaires sont partag√©es avec le d√©l√©gu√©.</p>
                    </div>
                </div>

                <h3>‚ùì Questions Fr√©quentes (FAQ)</h3>
                <div id="student-faq">
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <span>Pourquoi ma demande a √©t√© rejet√©e?</span>
                            <span>‚ñº</span>
                        </div>
                        <div class="faq-answer">
                            <p>Le d√©l√©gu√© a le droit de rejeter les demandes. Les raisons peuvent √™tre:<br>
                            ‚Ä¢ Informations incompl√®tes<br>
                            ‚Ä¢ Limite de membres atteinte<br>
                            ‚Ä¢ Raisons de s√©curit√©<br><br>
                            <strong>Conseil:</strong> Contactez le d√©l√©gu√© pour conna√Ætre la raison exacte et r√©essayez.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <span>Je n'ai pas re√ßu le code PIN, que faire?</span>
                            <span>‚ñº</span>
                        </div>
                        <div class="faq-answer">
                            <p>V√©rifiez:<br>
                            ‚Ä¢ Votre dossier spam/courrier ind√©sirable<br>
                            ‚Ä¢ Que votre email est correct sur votre profil<br>
                            ‚Ä¢ Si vous avez fourni un num√©ro WhatsApp, v√©rifiez vos messages<br><br>
                            <strong>Solution:</strong> Contactez le d√©l√©gu√© de votre fili√®re pour renvoyer le code.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <span>Puis-je soumettre plusieurs demandes?</span>
                            <span>‚ñº</span>
                        </div>
                        <div class="faq-answer">
                            <p>Vous pouvez soumettre une demande par fili√®re. Si vous changez de fili√®re, vous pouvez en soumettre une nouvelle. Les anciennes demandes restent dans votre historique.</p>
                        </div>
                    </div>
                </div>

                <div class="security-box">
                    <h4>üîí Recommandations de S√©curit√©</h4>
                    <ul>
                        <li>Ne partagez jamais votre mot de passe</li>
                        <li>Utilisez un mot de passe unique (ne l'utilisez pas ailleurs)</li>
                        <li>V√©rifiez votre adresse email pour d√©bloquer toutes les fonctionnalit√©s</li>
                        <li>Ne partagez pas le code PIN re√ßu</li>
                        <li>Signalez tout activit√© suspecte au d√©l√©gu√©</li>
                    </ul>
                </div>
            </div>

            <!-- GUIDE D√âL√âGU√â -->
            <div id="delegate" class="guide-section">
                <h2><span class="role-icon">üõ°Ô∏è</span>Guide d'Utilisation - D√©l√©gu√©</h2>
                
                <div class="section-intro">
                    <strong>Bienvenue en tant que d√©l√©gu√©!</strong> Vous √™tes responsable de la gestion des demandes d'adh√©sion pour votre fili√®re. Ce guide vous explique comment approuver/rejeter les demandes, g√©n√©rer des codes PIN et g√©rer votre fili√®re.
                </div>

                <h3>üìä Tableau de Bord D√©l√©gu√©</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Acc√©dez l'onglet "Gestion des Demandes"</h4>
                            <p>Sur votre tableau de bord, vous verrez automatiquement l'onglet <span class="highlight">Gestion des Demandes</span> (visible uniquement pour les d√©l√©gu√©s).</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Consultez les demandes en attente</h4>
                            <p>Vous verrez une liste de toutes les demandes <span class="highlight">en attente</span> pour votre fili√®re. Les colonnes affichent:<br>
                            ‚Ä¢ Email de l'√©tudiant<br>
                            ‚Ä¢ Date de la demande<br>
                            ‚Ä¢ Aper√ßu du message de pr√©sentation</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Cliquez sur "D√©tails"</h4>
                            <p>Pour voir toutes les informations de l'√©tudiant et son message complet.</p>
                        </div>
                    </div>
                </div>

                <h3>‚úÖ Approuver une Demande</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Ouvrez les d√©tails de la demande</h4>
                            <p>Vous verrez:<br>
                            ‚Ä¢ Nom complet de l'√©tudiant<br>
                            ‚Ä¢ Email et num√©ro WhatsApp<br>
                            ‚Ä¢ Niveau d'√©tudes<br>
                            ‚Ä¢ Message de pr√©sentation complet</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Ajoutez une note (optionnel)</h4>
                            <p>Vous pouvez ajouter une note personnalis√©e √† l'√©tudiant. Exemples:<br>
                            ‚Ä¢ "Bienvenue dans notre groupe!"<br>
                            ‚Ä¢ "N'oublie pas de lire les r√®gles du groupe"<br>
                            ‚Ä¢ Toute remarque pertinente</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>G√©n√©rez le code PIN</h4>
                            <p>Cliquez sur le bouton <span class="highlight">Approuver</span>. Le syst√®me g√©n√©rera automatiquement un code PIN s√©curis√© et le system l'enverra √† l'√©tudiant.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Code PIN envoy√© automatiquement</h4>
                            <p>L'√©tudiant re√ßoit le code PIN par:<br>
                            ‚Ä¢ üìß Email<br>
                            ‚Ä¢ üí¨ SMS/WhatsApp (si num√©ro fourni)<br>
                            ‚Ä¢ üîî Notification plateforme</p>
                        </div>
                    </div>
                </div>

                <h3>‚ùå Rejeter une Demande</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Consultez les informations</h4>
                            <p>Examinez les d√©tails de l'√©tudiant pour d√©cider si la demande doit √™tre rejet√©e.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>√âcrivez une justification</h4>
                            <p>Dans la zone "D√©cision", √©crivez une raison claire et respectueuse. Exemples:<br>
                            ‚Ä¢ "La limite de membres est atteinte"<br>
                            ‚Ä¢ "Veuillez compl√©ter vos informations"<br>
                            ‚Ä¢ Toute autre raison pertinente</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Cliquez sur "Rejeter"</h4>
                            <p>La demande sera marqu√©e comme rejet√©e et l'√©tudiant recevra une notification avec la justification.</p>
                        </div>
                    </div>
                </div>

                <h3>üì• Exporter la Liste des √âtudiants</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Acc√©dez √† "Exporter Donn√©es"</h4>
                            <p>Un bouton dans votre tableau de bord vous permet d'exporter la liste des √©tudiants approuv√©s.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Format Excel/CSV</h4>
                            <p>Le fichier contient:<br>
                            ‚Ä¢ Noms des √©tudiants<br>
                            ‚Ä¢ Emails<br>
                            ‚Ä¢ Num√©ros WhatsApp<br>
                            ‚Ä¢ Date d'approbation<br>
                            ‚Ä¢ Statut</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Utilisations</h4>
                            <p>Vous pouvez utiliser ce fichier pour:<br>
                            ‚Ä¢ G√©rer votre groupe WhatsApp<br>
                            ‚Ä¢ Cr√©er des rappels ou annonces<br>
                            ‚Ä¢ Tenir des statistiques</p>
                        </div>
                    </div>
                </div>

                <h3>ü§ñ Score IA Gemini</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4><span class="feature-icon">üìä</span>Analyse de Motivation</h4>
                        <p>Pour chaque demande, l'IA Gemini analyse le message et g√©n√®re un score de motivation (0-100).</p>
                    </div>
                    <div class="feature-card">
                        <h4><span class="feature-icon">üí°</span>Recommandations</h4>
                        <p>L'IA fournit des insights sur le profil de l'√©tudiant pour vous aider dans votre d√©cision.</p>
                    </div>
                    <div class="feature-card">
                        <h4><span class="feature-icon">üîç</span>D√©tection Automatique</h4>
                        <p>D√©tecte les demandes suspectes ou incompl√®tes pour vous aider √† filtrer.</p>
                    </div>
                </div>

                <h3>‚≠ê Responsabilit√©s du D√©l√©gu√©</h3>
                <div class="security-box">
                    <h4>Respectez ces obligations:</h4>
                    <ul>
                        <li>R√©pondre aux demandes dans un d√©lai raisonnable (24-48h recommand√©)</li>
                        <li>Prot√©ger les donn√©es personnelles des √©tudiants</li>
                        <li>Ne pas partager les codes PIN avec d'autres</li>
                        <li>Utiliser le syst√®me de mani√®re √©quitable et transparente</li>
                        <li>Signaler au administrateur tout probl√®me ou abus</li>
                        <li>Mettre √† jour le lien WhatsApp officiel si changement</li>
                    </ul>
                </div>

                <h3>‚ùì Questions Fr√©quentes (FAQ)</h3>
                <div id="delegate-faq">
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <span>Puis-je voir les codes PIN que j'ai g√©n√©r√©?</span>
                            <span>‚ñº</span>
                        </div>
                        <div class="faq-answer">
                            <p>Pour des raisons de s√©curit√©, les codes PIN ne sont pas archiv√©s. Une fois g√©n√©r√© et envoy√©, seul l'√©tudiant le poss√®de. Si un √©tudiant l'a perdu, vous pouvez g√©n√©rer un nouveau code en rejettant et r√©approuvant la demande.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <span>Combien d'√©tudiants puis-je approuver?</span>
                            <span>‚ñº</span>
                        </div>
                        <div class="faq-answer">
                            <p>Il n'y a pas de limite technique. Cependant, vous pouvez d√©finir une limite personnelle bas√©e sur la capacit√© de votre groupe WhatsApp. Vous pouvez rejeter des demandes en expliquant que le groupe est satur√©.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <span>Que faire si un √©tudiant abuse du syst√®me?</span>
                            <span>‚ñº</span>
                        </div>
                        <div class="faq-answer">
                            <p>Signalez imm√©diatement √† l'administrateur. Vous pouvez:<br>
                            ‚Ä¢ Rejeter les demandes suspectes<br>
                            ‚Ä¢ Documenter les probl√®mes<br>
                            ‚Ä¢ Contacter l'admin pour un blocage ou suppression de compte</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- GUIDE ADMINISTRATEUR -->
            <div id="admin" class="guide-section">
                <h2><span class="role-icon">‚öôÔ∏è</span>Guide d'Utilisation - Administrateur</h2>
                
                <div class="section-intro">
                    <strong>Bienvenue administrateur!</strong> Vous avez le contr√¥le total de la plateforme Ibn Sina. Ce guide explique comment g√©rer les fili√®res, les utilisateurs, et surveiller la plateforme.
                </div>

                <h3>üë• Gestion des Utilisateurs</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Acc√©dez l'onglet "Administration"</h4>
                            <p>Sur votre tableau de bord, l'onglet <span class="highlight">Administration</span> affiche tous les outils de gestion.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Section "Ajouter un D√©l√©gu√©"</h4>
                            <p>Entrez:<br>
                            ‚Ä¢ <strong>Email:</strong> L'email de l'utilisateur √† promouvoir<br>
                            ‚Ä¢ <strong>Fili√®re:</strong> La fili√®re qu'il g√©rera<br><br>
                            Cet utilisateur recevra un acc√®s d√©l√©gu√© pour cette fili√®re.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Consulter la liste des d√©l√©gu√©s</h4>
                            <p>Vous pouvez voir tous les d√©l√©gu√©s actuels et leur fili√®re assign√©e. Vous pouvez les supprimer ou les modifier √† tout moment.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Promouvoir √† administrateur</h4>
                            <p>Vous pouvez promouvoir un utilisateur d√©l√©gu√© au r√¥le d'administrateur (acc√®s complet). Utilisez la section d√©di√©e.</p>
                        </div>
                    </div>
                </div>

                <h3>üóÇÔ∏è Gestion des Fili√®res</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Cr√©er une nouvelle fili√®re</h4>
                            <p>Cliquez sur <span class="highlight">Ajouter Fili√®re</span>. Entrez:<br>
                            ‚Ä¢ Nom de la fili√®re<br>
                            ‚Ä¢ Code/Abr√©viation (ex: STE, SM, PC)<br>
                            ‚Ä¢ Description (optionnel)<br>
                            ‚Ä¢ Lien WhatsApp officiel</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Modifier une fili√®re</h4>
                            <p>Vous pouvez modifier:<br>
                            ‚Ä¢ Nom et description<br>
                            ‚Ä¢ Lien WhatsApp (si le groupe est r√©organis√©)<br>
                            ‚Ä¢ Statut (active/inactive)</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Supprimer une fili√®re</h4>
                            <p><span class="highlight">Attention:</span> Supprimer une fili√®re supprimera aussi toutes ses demandes associ√©es. Cette action est irr√©versible.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Assigner d√©l√©gu√©s aux fili√®res</h4>
                            <p>Vous pouvez assigner plusieurs d√©l√©gu√©s √† une fili√®re ou reassigner d'une fili√®re √† l'autre.</p>
                        </div>
                    </div>
                </div>

                <h3>üìä Vue Globale et Statistiques</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4><span class="feature-icon">üë•</span>Nombre d'Utilisateurs</h4>
                        <p>Total des utilisateurs inscrits, avec r√©partition par fili√®re et r√¥le.</p>
                    </div>
                    <div class="feature-card">
                        <h4><span class="feature-icon">üìà</span>Taux d'Approbation</h4>
                        <p>Pourcentage de demandes approuv√©es vs rejet√©es par fili√®re et globalement.</p>
                    </div>
                    <div class="feature-card">
                        <h4><span class="feature-icon">‚è±Ô∏è</span>Temps de Traitement</h4>
                        <p>Temps moyen pour approuver une demande par d√©l√©gu√© et par fili√®re.</p>
                    </div>
                    <div class="feature-card">
                        <h4><span class="feature-icon">üìã</span>Toutes les Demandes</h4>
                        <p>Acc√®s complet √† toutes les demandes de toutes les fili√®res (en attente, approuv√©es, rejet√©es).</p>
                    </div>
                </div>

                <h3>üîê Configuration de S√©curit√©</h3>
                <div class="security-box">
                    <h4>V√©rifiez ces param√®tres:</h4>
                    <ul>
                        <li>V√©rification Email obligatoire pour l'acc√®s au dashboard</li>
                        <li>R√®gles Firestore bloquent les acc√®s non autoris√©s</li>
                        <li>Codes PIN s√©curis√©s et temporaires</li>
                        <li>Audit des actions administrateur</li>
                        <li>Chiffrement des donn√©es sensibles</li>
                        <li>Politique RGPD et confidentialit√© des donn√©es</li>
                    </ul>
                </div>

                <h3>üõ°Ô∏è Mod√©ration et Gestion des Abus</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Identifier les comportements suspects</h4>
                            <p>Surveillez:<br>
                            ‚Ä¢ Demandes en masse par un utilisateur<br>
                            ‚Ä¢ Contenus offensants dans les messages<br>
                            ‚Ä¢ D√©l√©gu√©s qui n'approuvent jamais les demandes<br>
                            ‚Ä¢ Acc√®s anormaux</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Avertissement</h4>
                            <p>Contacter l'utilisateur ou le d√©l√©gu√© pour clarifier le comportement probl√©matique.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Suspension du compte</h4>
                            <p>Vous pouvez suspendre temporairement un compte pour investigation.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Suppression d√©finitive</h4>
                            <p>En dernier recours, vous pouvez supprimer un compte. Cette action supprime aussi toutes ses donn√©es associ√©es.</p>
                        </div>
                    </div>
                </div>

                <h3>üìù Logs et Audit</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4><span class="feature-icon">üìä</span>Journal des Actions</h4>
                        <p>Consultez l'historique de toutes les actions administrateur (modifications, suppressions, promotions).</p>
                    </div>
                    <div class="feature-card">
                        <h4><span class="feature-icon">üîç</span>Filtrage par Date</h4>
                        <p>Filtrez les logs par date, utilisateur, type d'action pour investigations.</p>
                    </div>
                    <div class="feature-card">
                        <h4><span class="feature-icon">üìß</span>Alertes Email</h4>
                        <p>Recevez des alertes pour les actions administrateur critiques.</p>
                    </div>
                </div>

                <h3>‚ùì Questions Fr√©quentes (FAQ)</h3>
                <div id="admin-faq">
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <span>Peut-on avoir plusieurs administrateurs?</span>
                            <span>‚ñº</span>
                        </div>
                        <div class="faq-answer">
                            <p>Oui! Vous pouvez promouvoir autant d'utilisateurs que n√©cessaire au rang d'administrateur. Chaque administrateur a les m√™mes droits complets.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <span>Puis-je r√©trograder un d√©l√©gu√© ou un administrateur?</span>
                            <span>‚ñº</span>
                        </div>
                        <div class="faq-answer">
                            <p>Oui. Vous pouvez changer le r√¥le de n'importe quel utilisateur:<br>
                            ‚Ä¢ Administrateur ‚Üí D√©l√©gu√©<br>
                            ‚Ä¢ D√©l√©gu√© ‚Üí √âtudiant<br>
                            ‚Ä¢ √âtudiant ‚Üí D√©l√©gu√©<br>
                            Cette action est instantan√©e.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <span>Que se passe-t-il si je supprime une fili√®re?</span>
                            <span>‚ñº</span>
                        </div>
                        <div class="faq-answer">
                            <p>Suppression d'une fili√®re = Suppression d√©finitive de:<br>
                            ‚Ä¢ La fili√®re<br>
                            ‚Ä¢ Tous les d√©l√©gu√©s assign√©s √† cette fili√®re<br>
                            ‚Ä¢ Toutes les demandes associ√©es<br>
                            ‚Ä¢ Le lien WhatsApp<br><br>
                            <strong>ATTENTION:</strong> Cette action est irr√©versible. T√©l√©chargez les donn√©es en CSV avant de supprimer.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <span>Comment faire une sauvegarde de la plateforme?</span>
                            <span>‚ñº</span>
                        </div>
                        <div class="faq-answer">
                            <p>Google Firestore offre des sauvegardes automatiques. Vous pouvez aussi:<br>
                            ‚Ä¢ Exporter les donn√©es en CSV depuis l'admin<br>
                            ‚Ä¢ Utiliser Google Cloud Storage pour les backups<br>
                            ‚Ä¢ Configurer des sauvegardes programm√©es</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function switchGuide(role) {
            // Hide all guides
            const guides = document.querySelectorAll('.guide-section');
            guides.forEach(guide => guide.classList.remove('active'));

            // Remove active from all cards
            const cards = document.querySelectorAll('.role-card');
            cards.forEach(card => card.classList.remove('active'));

            // Show selected guide
            document.getElementById(role).classList.add('active');

            // Add active to clicked card
            event.target.closest('.role-card').classList.add('active');

            // Scroll to content
            document.querySelector('.guide-content').scrollIntoView({ behavior: 'smooth' });
        }

        function toggleFAQ(element) {
            const question = element;
            const answer = element.nextElementSibling;

            // Close other FAQs in same section
            const container = question.closest('div');
            container.querySelectorAll('.faq-answer').forEach(ans => {
                if (ans !== answer) {
                    ans.classList.remove('active');
                    ans.previousElementSibling.classList.remove('active');
                }
            });

            // Toggle current
            question.classList.toggle('active');
            answer.classList.toggle('active');
        }
    </script>
</body>
</html>
